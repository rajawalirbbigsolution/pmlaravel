<?php
 namespace Symfony\Component\Finder\Tests\Iterator; use Symfony\Component\Finder\Iterator\RecursiveDirectoryIterator; class RecursiveDirectoryIteratorTest extends IteratorTestCase { public function testRewindOnFtp() { try { $i = new RecursiveDirectoryIterator('ftp://speedtest.tele2.net/', \RecursiveDirectoryIterator::SKIP_DOTS); } catch (\UnexpectedValueException $e) { $this->markTestSkipped('Unsupported stream "ftp".'); } $i->rewind(); $this->assertTrue(true); } public function testSeekOnFtp() { try { $i = new RecursiveDirectoryIterator('ftp://speedtest.tele2.net/', \RecursiveDirectoryIterator::SKIP_DOTS); } catch (\UnexpectedValueException $e) { $this->markTestSkipped('Unsupported stream "ftp".'); } $contains = array( 'ftp://speedtest.tele2.net'.DIRECTORY_SEPARATOR.'1000GB.zip', 'ftp://speedtest.tele2.net'.DIRECTORY_SEPARATOR.'100GB.zip', ); $actual = array(); $i->seek(0); $actual[] = $i->getPathname(); $i->seek(1); $actual[] = $i->getPathname(); $this->assertEquals($contains, $actual); } } 