<?php
 namespace Symfony\Component\HttpKernel\CacheWarmer; class CacheWarmerAggregate implements CacheWarmerInterface { protected $warmers = array(); protected $optionalsEnabled = false; private $triggerDeprecation = false; public function __construct($warmers = array()) { foreach ($warmers as $warmer) { $this->add($warmer); } $this->triggerDeprecation = true; } public function enableOptionalWarmers() { $this->optionalsEnabled = true; } public function warmUp($cacheDir) { foreach ($this->warmers as $warmer) { if (!$this->optionalsEnabled && $warmer->isOptional()) { continue; } $warmer->warmUp($cacheDir); } } public function isOptional() { return false; } public function setWarmers(array $warmers) { @trigger_error(sprintf('The "%s()" method is deprecated since Symfony 3.4 and will be removed in 4.0, inject the list of clearers as a constructor argument instead.', __METHOD__), E_USER_DEPRECATED); $this->warmers = array(); foreach ($warmers as $warmer) { $this->add($warmer); } } public function add(CacheWarmerInterface $warmer) { if ($this->triggerDeprecation) { @trigger_error(sprintf('The "%s()" method is deprecated since Symfony 3.4 and will be removed in 4.0, inject the list of clearers as a constructor argument instead.', __METHOD__), E_USER_DEPRECATED); } $this->warmers[] = $warmer; } } 